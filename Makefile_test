NAME		=		checker
NAME_PW		=		push_swap

FILE_C		=		checker
FILE_PW		=		push_swap

FILES		+=		free/free_list.c		\
					lists/lst_init_insert.c	\
					lists/lst_display.c		\
					cmd/ft_check_cmd.c			\
					cmd/ft_push.c				\
					cmd/ft_reverse_rotate.c	\
					cmd/ft_rotate.c			\
					cmd/ft_swap.c				\
					arg/ft_check_int.c			\
					arg/ft_check_duplicate.c	\
					arg/ft_check_zero.c		\
					arg/ft_del_space.c			\
					arg/ft_clean_tab.c




# LIBFT
LBFTDIR		=		./libraries/libft

# GNL
GNLDIR		=		./libraries/gnl

# REGLES
CC			=		gcc
LINKER		=		ar rc
SRCPATH		=		srcs/
HDRPATH		=		headers/
CCHPATH		=		obj/

IFLAGS		=		-I $(HDRPATH) -I $(LFTDIR)/libft.h
LFLAGS		=		-L $(LFTDIR) -lft
CFLAGS		=		-Wall -Wextra -Werror $(IFLAGS)

# ------ Auto ------
SRC:=$(addprefix $(SRCPATH),$(addsuffix .c,$(FILES)))
SRC_PW:=$(addsuffix .c,$(FILE_PW))
SRC_C:=$(addsuffix .c,$(FILE_C))
OBJ:=$(addprefix $(CCHPATH),$(addsuffix .o,$(FILES)))
OBJ_C:=$(addprefix $(CCHPATH),$(addsuffix .o,$(FILE_C)))
OBJ_PW:=$(addprefix $(CCHPATH),$(addsuffix .o,$(FILE_PW)))

all: $(NAME_PW) $(NAME)

$(NAME): $(OBJ) $(OBJ_C)
	cd $(LFTDIR) && $(MAKE)
	cd $(GNLDIR) && $(MAKE)
	$(COMPILER) $(CFLAGS) $(SRC) $(LFLAGS) $(SRCPATH)$(FILE_C).c -o $(NAME)
	echo $(GREEN) " - OK" $(EOC)

$(NAME_PW): $(OBJ) $(OBJ_PW)
	@cd $(LFTDIR) && $(MAKE)
	@echo $(CYAN) " - Compiling $@" $(RED)
	@$(COMPILER) $(CFLAGS) $(SRC) $(LFLAGS) $(SRC_PW) -o $(NAME_PW)
	@echo $(GREEN) " - OK" $(EOC)